{"ast":null,"code":"import { cloneDeep } from \"lodash\";\nexport default function computerBoardReducer(state, action) {\n  if (state === undefined) {\n    return defaultState;\n  }\n\n  if (action.type === \"boardClick\") {\n    const value = state.gameBoard[action.x][action.y];\n\n    if (value === \"Ship\") {\n      state.gameBoard[action.x][action.y] = \"X\";\n      state.count++;\n    } else if (value === \"\") {\n      const copy = cloneDeep(state.gameBoard);\n      copy[action.x][action.y] = \"⚫\";\n      state.gameBoard = copy;\n    }\n\n    return { ...state\n    };\n  }\n\n  if (action.type === \"RESET\") {\n    state.gameBoard = defaultState.gameBoard;\n    state.count = 0;\n    return { ...state\n    };\n  }\n\n  return state;\n}\n\nfunction randomlyChooseFiveShips(board) {\n  const totalShip = 5;\n  let newArray = [];\n\n  for (let i = 0; i < board.length; i++) {\n    newArray.push(i);\n  }\n\n  let shipCount = 0;\n\n  while (shipCount !== totalShip) {\n    let rowPos = newArray[Math.floor(Math.random() * newArray.length)];\n    let colPos = newArray[Math.floor(Math.random() * newArray.length)];\n\n    if (board[rowPos][colPos] === \"\") {\n      board[rowPos][colPos] = \"Ship\";\n      shipCount += 1;\n    }\n  }\n\n  return board;\n}","map":{"version":3,"sources":["/Users/jingjing/NEU_Align_CS/jingjing-liao-project2 Redux Michael/src/reducers/ComputerBoardReducer.js"],"names":["cloneDeep","computerBoardReducer","state","action","undefined","defaultState","type","value","gameBoard","x","y","count","copy","randomlyChooseFiveShips","board","totalShip","newArray","i","length","push","shipCount","rowPos","Math","floor","random","colPos"],"mappings":"AAAA,SAASA,SAAT,QAA0B,QAA1B;AAEA,eAAe,SAASC,oBAAT,CAA8BC,KAA9B,EAAqCC,MAArC,EAA6C;AAG1D,MAAID,KAAK,KAAKE,SAAd,EAAyB;AACvB,WAAOC,YAAP;AACD;;AACD,MAAIF,MAAM,CAACG,IAAP,KAAgB,YAApB,EAAkC;AAChC,UAAMC,KAAK,GAAGL,KAAK,CAACM,SAAN,CAAgBL,MAAM,CAACM,CAAvB,EAA0BN,MAAM,CAACO,CAAjC,CAAd;;AACA,QAAIH,KAAK,KAAK,MAAd,EAAsB;AACpBL,MAAAA,KAAK,CAACM,SAAN,CAAgBL,MAAM,CAACM,CAAvB,EAA0BN,MAAM,CAACO,CAAjC,IAAsC,GAAtC;AACAR,MAAAA,KAAK,CAACS,KAAN;AACD,KAHD,MAGO,IAAIJ,KAAK,KAAK,EAAd,EAAkB;AACvB,YAAMK,IAAI,GAAGZ,SAAS,CAACE,KAAK,CAACM,SAAP,CAAtB;AACAI,MAAAA,IAAI,CAACT,MAAM,CAACM,CAAR,CAAJ,CAAeN,MAAM,CAACO,CAAtB,IAA2B,GAA3B;AACAR,MAAAA,KAAK,CAACM,SAAN,GAAkBI,IAAlB;AACD;;AACD,WAAO,EAAE,GAAGV;AAAL,KAAP;AACD;;AACD,MAAIC,MAAM,CAACG,IAAP,KAAgB,OAApB,EAA6B;AAC3BJ,IAAAA,KAAK,CAACM,SAAN,GAAkBH,YAAY,CAACG,SAA/B;AACAN,IAAAA,KAAK,CAACS,KAAN,GAAc,CAAd;AACA,WAAO,EAAE,GAAGT;AAAL,KAAP;AACD;;AACD,SAAOA,KAAP;AACD;;AAED,SAASW,uBAAT,CAAiCC,KAAjC,EAAwC;AACtC,QAAMC,SAAS,GAAG,CAAlB;AACA,MAAIC,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrCD,IAAAA,QAAQ,CAACG,IAAT,CAAcF,CAAd;AACD;;AAED,MAAIG,SAAS,GAAG,CAAhB;;AACA,SAAOA,SAAS,KAAKL,SAArB,EAAgC;AAC9B,QAAIM,MAAM,GAAGL,QAAQ,CAACM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBR,QAAQ,CAACE,MAApC,CAAD,CAArB;AACA,QAAIO,MAAM,GAAGT,QAAQ,CAACM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBR,QAAQ,CAACE,MAApC,CAAD,CAArB;;AACA,QAAIJ,KAAK,CAACO,MAAD,CAAL,CAAcI,MAAd,MAA0B,EAA9B,EAAkC;AAChCX,MAAAA,KAAK,CAACO,MAAD,CAAL,CAAcI,MAAd,IAAwB,MAAxB;AACAL,MAAAA,SAAS,IAAI,CAAb;AACD;AACF;;AACD,SAAON,KAAP;AACD","sourcesContent":["import { cloneDeep } from \"lodash\";\n\nexport default function computerBoardReducer(state, action) {\n\n\n  if (state === undefined) {\n    return defaultState;\n  }\n  if (action.type === \"boardClick\") {\n    const value = state.gameBoard[action.x][action.y];\n    if (value === \"Ship\") {\n      state.gameBoard[action.x][action.y] = \"X\";\n      state.count++;\n    } else if (value === \"\") {\n      const copy = cloneDeep(state.gameBoard);\n      copy[action.x][action.y] = \"⚫\";\n      state.gameBoard = copy;\n    }\n    return { ...state };\n  }\n  if (action.type === \"RESET\") {\n    state.gameBoard = defaultState.gameBoard;\n    state.count = 0;\n    return { ...state };\n  }\n  return state;\n}\n\nfunction randomlyChooseFiveShips(board) {\n  const totalShip = 5;\n  let newArray = [];\n  for (let i = 0; i < board.length; i++) {\n    newArray.push(i);\n  }\n\n  let shipCount = 0;\n  while (shipCount !== totalShip) {\n    let rowPos = newArray[Math.floor(Math.random() * newArray.length)];\n    let colPos = newArray[Math.floor(Math.random() * newArray.length)];\n    if (board[rowPos][colPos] === \"\") {\n      board[rowPos][colPos] = \"Ship\";\n      shipCount += 1;\n    }\n  }\n  return board;\n}\n"]},"metadata":{},"sourceType":"module"}