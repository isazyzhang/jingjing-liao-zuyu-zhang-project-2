{"ast":null,"code":"const defaultState = {\n  gameBoard: randomlyChooseFiveShips([[\"\", \"\", \"\"], [\"\", \"\", \"\"], [\"\", \"\", \"\"]]),\n  count: 0\n};\n\nfunction generateGameBoard() {\n  return defaultState.gameBoard;\n}\n\nexport default function gameReducer(state, action) {\n  if (state === undefined) {\n    return generateGameBoard();\n  }\n\n  if (action.type === \"boardClick\") {\n    const value = state[action.x][action.y];\n\n    if (value === \"Ship\") {\n      state[action.x][action.y] = \"X\";\n    } else if (value === \"\") {\n      state[action.x][action.y] = \"✓\";\n    }\n\n    return [...state];\n  }\n\n  if (action.type === 'RESET') {\n    const newBoard = randomlyChooseFiveShips();\n\n    for (let i = 0; i < state.length; i++) {\n      for (let j = 0; j < state.length; j++) {\n        state[i][j] = newBoard[i][j];\n      }\n    }\n\n    return [...state];\n  }\n\n  return state;\n}\n\nfunction randomlyChooseFiveShips(board) {\n  const totalShip = 5;\n  let newArray = [];\n\n  for (let i = 0; i < board.length; i++) {\n    newArray.push(i);\n  }\n\n  let shipCount = 0;\n\n  while (shipCount !== totalShip) {\n    let rowPos = newArray[Math.floor(Math.random() * newArray.length)];\n    let colPos = newArray[Math.floor(Math.random() * newArray.length)];\n\n    if (board[rowPos][colPos] === \"\") {\n      board[rowPos][colPos] = \"Ship\";\n      shipCount += 1;\n    }\n  }\n\n  return board;\n}","map":{"version":3,"sources":["/Users/jingjing/NEU_Align_CS/CS5610 Web Dev/Jingjing-Liao-project2/jingjing-liao-project2 Redux copy/src/reducers/gameReducer.js"],"names":["defaultState","gameBoard","randomlyChooseFiveShips","count","generateGameBoard","gameReducer","state","action","undefined","type","value","x","y","newBoard","i","length","j","board","totalShip","newArray","push","shipCount","rowPos","Math","floor","random","colPos"],"mappings":"AAAA,MAAMA,YAAY,GAAG;AACjBC,EAAAA,SAAS,EAAEC,uBAAuB,CAC9B,CACI,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CADJ,EAEI,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAFJ,EAGI,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAHJ,CAD8B,CADjB;AAQjBC,EAAAA,KAAK,EAAE;AARU,CAArB;;AAWA,SAASC,iBAAT,GAA6B;AACzB,SAAOJ,YAAY,CAACC,SAApB;AACH;;AAED,eAAe,SAASI,WAAT,CAAqBC,KAArB,EAA4BC,MAA5B,EAAoC;AAC/C,MAAID,KAAK,KAAKE,SAAd,EAAyB;AACrB,WAAOJ,iBAAiB,EAAxB;AACH;;AACD,MAAIG,MAAM,CAACE,IAAP,KAAgB,YAApB,EAAkC;AAC9B,UAAMC,KAAK,GAAGJ,KAAK,CAACC,MAAM,CAACI,CAAR,CAAL,CAAgBJ,MAAM,CAACK,CAAvB,CAAd;;AACA,QAAIF,KAAK,KAAK,MAAd,EAAsB;AAClBJ,MAAAA,KAAK,CAACC,MAAM,CAACI,CAAR,CAAL,CAAgBJ,MAAM,CAACK,CAAvB,IAA4B,GAA5B;AACH,KAFD,MAEO,IAAIF,KAAK,KAAK,EAAd,EAAkB;AACrBJ,MAAAA,KAAK,CAACC,MAAM,CAACI,CAAR,CAAL,CAAgBJ,MAAM,CAACK,CAAvB,IAA4B,GAA5B;AACH;;AACD,WAAO,CAAC,GAAGN,KAAJ,CAAP;AACH;;AACD,MAAIC,MAAM,CAACE,IAAP,KAAgB,OAApB,EAA6B;AACzB,UAAMI,QAAQ,GAAGX,uBAAuB,EAAxC;;AACA,SAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,KAAK,CAACS,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,KAAK,CAACS,MAA1B,EAAkCC,CAAC,EAAnC,EAAsC;AAClCV,QAAAA,KAAK,CAACQ,CAAD,CAAL,CAASE,CAAT,IAAcH,QAAQ,CAACC,CAAD,CAAR,CAAYE,CAAZ,CAAd;AACH;AACJ;;AACD,WAAO,CAAC,GAAGV,KAAJ,CAAP;AACH;;AACD,SAAOA,KAAP;AAEH;;AAED,SAASJ,uBAAT,CAAiCe,KAAjC,EAAwC;AACpC,QAAMC,SAAS,GAAG,CAAlB;AACA,MAAIC,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAIL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGG,KAAK,CAACF,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrCK,IAAAA,QAAQ,CAACC,IAAT,CAAcN,CAAd;AACD;;AAED,MAAIO,SAAS,GAAG,CAAhB;;AACA,SAAOA,SAAS,KAAKH,SAArB,EAAgC;AAC9B,QAAII,MAAM,GAAGH,QAAQ,CAACI,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBN,QAAQ,CAACJ,MAApC,CAAD,CAArB;AACA,QAAIW,MAAM,GAAGP,QAAQ,CAACI,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBN,QAAQ,CAACJ,MAApC,CAAD,CAArB;;AACA,QAAIE,KAAK,CAACK,MAAD,CAAL,CAAcI,MAAd,MAA0B,EAA9B,EAAkC;AAChCT,MAAAA,KAAK,CAACK,MAAD,CAAL,CAAcI,MAAd,IAAwB,MAAxB;AACAL,MAAAA,SAAS,IAAI,CAAb;AACD;AACF;;AACD,SAAOJ,KAAP;AACD","sourcesContent":["const defaultState = {\n    gameBoard: randomlyChooseFiveShips(\n        [\n            [\"\", \"\", \"\"],\n            [\"\", \"\", \"\"],\n            [\"\", \"\", \"\"],\n          ]\n    ),\n    count: 0\n}\n\nfunction generateGameBoard() {\n    return defaultState.gameBoard;\n}\n\nexport default function gameReducer(state, action) {\n    if (state === undefined) {\n        return generateGameBoard()\n    }\n    if (action.type === \"boardClick\") {\n        const value = state[action.x][action.y]\n        if (value === \"Ship\") {\n            state[action.x][action.y] = \"X\"\n        } else if (value === \"\") {\n            state[action.x][action.y] = \"✓\"\n        }\n        return [...state]\n    }\n    if (action.type === 'RESET') {\n        const newBoard = randomlyChooseFiveShips();\n        for (let i = 0; i < state.length; i++) {\n            for (let j = 0; j < state.length; j++){\n                state[i][j] = newBoard[i][j];\n            }\n        }\n        return [...state];\n    }\n    return state;\n\n}\n\nfunction randomlyChooseFiveShips(board) {\n    const totalShip = 5;\n    let newArray = [];\n    for (let i = 0; i < board.length; i++) {\n      newArray.push(i);\n    }\n  \n    let shipCount = 0;\n    while (shipCount !== totalShip) {\n      let rowPos = newArray[Math.floor(Math.random() * newArray.length)];\n      let colPos = newArray[Math.floor(Math.random() * newArray.length)];\n      if (board[rowPos][colPos] === \"\") {\n        board[rowPos][colPos] = \"Ship\";\n        shipCount += 1;\n      }\n    }\n    return board;\n  }"]},"metadata":{},"sourceType":"module"}