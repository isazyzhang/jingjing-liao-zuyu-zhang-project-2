{"ast":null,"code":"export default function gameReducer(state, action) {\n  const initialBoard = [[\"\", \"\", \"\"], [\"\", \"\", \"\"], [\"\", \"\", \"\"]];\n  const defaultState = {\n    count: 0,\n    // gameBoard: randomlyChooseFiveShips(initialBoard)\n    gameBoard: [[\"M\", \"\", \"\"], [\"\", \"\", \"\"], [\"\", \"\", \"\"]]\n  };\n\n  if (state === undefined) {\n    return defaultState;\n  }\n\n  if (action.type === \"boardClick\") {\n    const value = state.gameBoard[action.x][action.y];\n    console.log(value);\n\n    if (value === \"Ship\") {\n      state.gameBoard[action.x][action.y] = \"X\";\n      state.count++;\n    } else if (value === \"M\") {\n      state.gameBoard[action.x][action.y] = \"✓\";\n    }\n\n    return { ...state\n    };\n  } // if (action.type === 'RESET') {\n  //     const newBoard = randomlyChooseFiveShips(initialBoard)\n  //     for (let i = 0; i < state.gameBoard.length; i++) {\n  //         for (let j = 0; j < state.gameBoard.length; j++){\n  //             state.gameBoard[i][j] = newBoard[i][j];\n  //         }\n  //     }\n  //     state.count = 0\n  //     return {...state};\n  // }\n\n\n  return state;\n}\n\nfunction randomlyChooseFiveShips(board) {\n  const totalShip = 5;\n  let newArray = [];\n\n  for (let i = 0; i < board.length; i++) {\n    newArray.push(i);\n  }\n\n  let shipCount = 0;\n\n  while (shipCount !== totalShip) {\n    let rowPos = newArray[Math.floor(Math.random() * newArray.length)];\n    let colPos = newArray[Math.floor(Math.random() * newArray.length)];\n\n    if (board[rowPos][colPos] === \"\") {\n      board[rowPos][colPos] = \"Ship\";\n      shipCount += 1;\n    }\n  }\n\n  return board;\n}","map":{"version":3,"sources":["/Users/jingjing/NEU_Align_CS/CS5610 Web Dev/Jingjing-Liao-project2/jingjing-liao-project2 Redux copy/src/reducers/gameReducer.js"],"names":["gameReducer","state","action","initialBoard","defaultState","count","gameBoard","undefined","type","value","x","y","console","log","randomlyChooseFiveShips","board","totalShip","newArray","i","length","push","shipCount","rowPos","Math","floor","random","colPos"],"mappings":"AAAA,eAAe,SAASA,WAAT,CAAqBC,KAArB,EAA4BC,MAA5B,EAAoC;AAC/C,QAAMC,YAAY,GAAG,CACjB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CADiB,EAEjB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAFiB,EAGjB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAHiB,CAArB;AAMA,QAAMC,YAAY,GAAG;AACjBC,IAAAA,KAAK,EAAE,CADU;AAEjB;AACAC,IAAAA,SAAS,EAAE,CACP,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CADO,EAEP,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAFO,EAGP,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAHO;AAHM,GAArB;;AAUA,MAAIL,KAAK,KAAKM,SAAd,EAAyB;AACrB,WAAOH,YAAP;AACH;;AACD,MAAIF,MAAM,CAACM,IAAP,KAAgB,YAApB,EAAkC;AAC9B,UAAMC,KAAK,GAAGR,KAAK,CAACK,SAAN,CAAgBJ,MAAM,CAACQ,CAAvB,EAA0BR,MAAM,CAACS,CAAjC,CAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;;AACA,QAAIA,KAAK,KAAK,MAAd,EAAsB;AAClBR,MAAAA,KAAK,CAACK,SAAN,CAAgBJ,MAAM,CAACQ,CAAvB,EAA0BR,MAAM,CAACS,CAAjC,IAAsC,GAAtC;AACAV,MAAAA,KAAK,CAACI,KAAN;AACH,KAHD,MAGO,IAAII,KAAK,KAAK,GAAd,EAAmB;AACtBR,MAAAA,KAAK,CAACK,SAAN,CAAgBJ,MAAM,CAACQ,CAAvB,EAA0BR,MAAM,CAACS,CAAjC,IAAsC,GAAtC;AACH;;AACD,WAAO,EAAC,GAAGV;AAAJ,KAAP;AACH,GA9B8C,CA+B/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAOA,KAAP;AAEH;;AAED,SAASa,uBAAT,CAAiCC,KAAjC,EAAwC;AACpC,QAAMC,SAAS,GAAG,CAAlB;AACA,MAAIC,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrCD,IAAAA,QAAQ,CAACG,IAAT,CAAcF,CAAd;AACD;;AAED,MAAIG,SAAS,GAAG,CAAhB;;AACA,SAAOA,SAAS,KAAKL,SAArB,EAAgC;AAC9B,QAAIM,MAAM,GAAGL,QAAQ,CAACM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBR,QAAQ,CAACE,MAApC,CAAD,CAArB;AACA,QAAIO,MAAM,GAAGT,QAAQ,CAACM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBR,QAAQ,CAACE,MAApC,CAAD,CAArB;;AACA,QAAIJ,KAAK,CAACO,MAAD,CAAL,CAAcI,MAAd,MAA0B,EAA9B,EAAkC;AAChCX,MAAAA,KAAK,CAACO,MAAD,CAAL,CAAcI,MAAd,IAAwB,MAAxB;AACAL,MAAAA,SAAS,IAAI,CAAb;AACD;AACF;;AACD,SAAON,KAAP;AACD","sourcesContent":["export default function gameReducer(state, action) {\n    const initialBoard = [\n        [\"\", \"\", \"\"],\n        [\"\", \"\", \"\"],\n        [\"\", \"\", \"\"],\n      ]\n\n    const defaultState = {\n        count: 0,\n        // gameBoard: randomlyChooseFiveShips(initialBoard)\n        gameBoard: [\n            [\"M\", \"\", \"\"],\n            [\"\", \"\", \"\"],\n            [\"\", \"\", \"\"],\n          ]\n    }\n    \n    if (state === undefined) {\n        return defaultState;\n    }\n    if (action.type === \"boardClick\") {\n        const value = state.gameBoard[action.x][action.y]\n        console.log(value)\n        if (value === \"Ship\") {\n            state.gameBoard[action.x][action.y] = \"X\"\n            state.count++\n        } else if (value === \"M\") {\n            state.gameBoard[action.x][action.y] = \"✓\"\n        }\n        return {...state}\n    }\n    // if (action.type === 'RESET') {\n    //     const newBoard = randomlyChooseFiveShips(initialBoard)\n    //     for (let i = 0; i < state.gameBoard.length; i++) {\n    //         for (let j = 0; j < state.gameBoard.length; j++){\n    //             state.gameBoard[i][j] = newBoard[i][j];\n    //         }\n    //     }\n    //     state.count = 0\n    //     return {...state};\n    // }\n    return state;\n\n}\n\nfunction randomlyChooseFiveShips(board) {\n    const totalShip = 5;\n    let newArray = [];\n    for (let i = 0; i < board.length; i++) {\n      newArray.push(i);\n    }\n  \n    let shipCount = 0;\n    while (shipCount !== totalShip) {\n      let rowPos = newArray[Math.floor(Math.random() * newArray.length)];\n      let colPos = newArray[Math.floor(Math.random() * newArray.length)];\n      if (board[rowPos][colPos] === \"\") {\n        board[rowPos][colPos] = \"Ship\";\n        shipCount += 1;\n      }\n    }\n    return board;\n  }"]},"metadata":{},"sourceType":"module"}